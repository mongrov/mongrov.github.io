window.Element&&!Element.prototype.closest&&(Element.prototype.closest=function(e){var t,n=(this.document||this.ownerDocument).querySelectorAll(e),o=this;do{for(t=n.length;--t>=0&&n.item(t)!==o;);}while(t<0&&(o=o.parentElement));return o}),function(){for(var e=0,t=["ms","moz","webkit","o"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,n){var o=(new Date).getTime(),i=Math.max(0,16-(o-e)),a=window.setTimeout(function(){t(o+i)},i);return e=o+i,a}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),function(e,t){"function"==typeof define&&define.amd?define([],function(){return t(e)}):"object"==typeof exports?module.exports=t(e):e.SmoothScroll=t(e)}("undefined"!=typeof global?global:"undefined"!=typeof window?window:this,function(e){"use strict";var t="querySelector"in document&&"addEventListener"in e&&"requestAnimationFrame"in e&&"closest"in e.Element.prototype,n={ignore:"[data-scroll-ignore]",header:null,speed:500,offset:0,easing:"easeInOutCubic",customEasing:null,before:function(){},after:function(){}},o=function(){for(var e={},t=0,n=arguments.length,o=function(t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};t<n;t++){o(arguments[t])}return e},i=function(e){"#"===e.charAt(0)&&(e=e.substr(1));for(var t,n=String(e),o=n.length,i=-1,a="",r=n.charCodeAt(0);++i<o;){if(0===(t=n.charCodeAt(i)))throw new InvalidCharacterError("Invalid character: the input contains U+0000.");t>=1&&t<=31||127==t||0===i&&t>=48&&t<=57||1===i&&t>=48&&t<=57&&45===r?a+="\\"+t.toString(16)+" ":a+=t>=128||45===t||95===t||t>=48&&t<=57||t>=65&&t<=90||t>=97&&t<=122?n.charAt(i):"\\"+n.charAt(i)}return"#"+a},a=function(t){return t?(n=t,parseInt(e.getComputedStyle(n).height,10)+t.offsetTop):0;var n};return function(r,c){var u,l,s,d,m,f,h,g={};g.cancelScroll=function(){cancelAnimationFrame(h)},g.animateScroll=function(t,i,r){var c=o(u||n,r||{}),l="[object Number]"===Object.prototype.toString.call(t),s=l||!t.tagName?null:t;if(l||s){var f=e.pageYOffset;c.header&&!d&&(d=document.querySelector(c.header)),m||(m=a(d));var h,w,p,v=l?t:function(e,t,n){var o=0;if(e.offsetParent)do{o+=e.offsetTop,e=e.offsetParent}while(e);return o=Math.max(o-t-n,0)}(s,m,parseInt("function"==typeof c.offset?c.offset():c.offset,10)),y=v-f,b=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight),A=0,E=function(n,o){var a=e.pageYOffset;if(n==o||a==o||(f<o&&e.innerHeight+a)>=b)return g.cancelScroll(),function(t,n,o){o||(t.focus(),document.activeElement.id!==t.id&&(t.setAttribute("tabindex","-1"),t.focus(),t.style.outline="none"),e.scrollTo(0,n))}(t,o,l),c.after(t,i),h=null,!0},S=function(t){var n,o,i;h||(h=t),w=(A+=t-h)/parseInt(c.speed,10),p=f+y*(o=w=w>1?1:w,"easeInQuad"===(n=c).easing&&(i=o*o),"easeOutQuad"===n.easing&&(i=o*(2-o)),"easeInOutQuad"===n.easing&&(i=o<.5?2*o*o:(4-2*o)*o-1),"easeInCubic"===n.easing&&(i=o*o*o),"easeOutCubic"===n.easing&&(i=--o*o*o+1),"easeInOutCubic"===n.easing&&(i=o<.5?4*o*o*o:(o-1)*(2*o-2)*(2*o-2)+1),"easeInQuart"===n.easing&&(i=o*o*o*o),"easeOutQuart"===n.easing&&(i=1- --o*o*o*o),"easeInOutQuart"===n.easing&&(i=o<.5?8*o*o*o*o:1-8*--o*o*o*o),"easeInQuint"===n.easing&&(i=o*o*o*o*o),"easeOutQuint"===n.easing&&(i=1+--o*o*o*o*o),"easeInOutQuint"===n.easing&&(i=o<.5?16*o*o*o*o*o:1+16*--o*o*o*o*o),n.customEasing&&(i=n.customEasing(o)),i||o),e.scrollTo(0,Math.floor(p)),E(p,v)||(e.requestAnimationFrame(S),h=t)};0===e.pageYOffset&&e.scrollTo(0,0),c.before(t,i),g.cancelScroll(),e.requestAnimationFrame(S)}};var w=function(e){l&&(l.id=l.getAttribute("data-scroll-id"),g.animateScroll(l,s),l=null,s=null)},p=function(t){if(!("matchMedia"in e&&e.matchMedia("(prefers-reduced-motion)").matches)&&0===t.button&&!t.metaKey&&!t.ctrlKey&&(s=t.target.closest(r))&&"a"===s.tagName.toLowerCase()&&!t.target.closest(u.ignore)&&s.hostname===e.location.hostname&&s.pathname===e.location.pathname&&/#/.test(s.href)){var n;try{n=i(decodeURIComponent(s.hash))}catch(e){n=i(s.hash)}if("#"===n){t.preventDefault();var o=(l=document.body).id?l.id:"smooth-scroll-top";return l.setAttribute("data-scroll-id",o),l.id="",void(e.location.hash.substring(1)===o?w():e.location.hash=o)}(l=document.querySelector(n))&&(l.setAttribute("data-scroll-id",l.id),l.id="",s.hash===e.location.hash&&(t.preventDefault(),w()))}},v=function(e){f||(f=setTimeout(function(){f=null,m=a(d)},66))};return g.destroy=function(){u&&(document.removeEventListener("click",p,!1),e.removeEventListener("resize",v,!1),g.cancelScroll(),u=null,l=null,s=null,d=null,m=null,f=null,h=null)},g.init=function(i){t&&(g.destroy(),u=o(n,i||{}),d=u.header?document.querySelector(u.header):null,m=a(d),document.addEventListener("click",p,!1),e.addEventListener("hashchange",w,!1),d&&e.addEventListener("resize",v,!1))},g.init(c),g}});